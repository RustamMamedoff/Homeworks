{"version":3,"file":"SimpleFileUpload.js","sources":["../src/SimpleFileUpload.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FieldProps, getIn } from 'formik';\nimport FormControl, { FormControlProps } from '@mui/material/FormControl';\nimport InputLabel, { InputLabelProps } from '@mui/material/InputLabel';\nimport Input, { InputProps } from '@mui/material/Input';\nimport FormHelperText from '@mui/material/FormHelperText';\n\nexport interface SimpleFileUploadProps extends FieldProps {\n  label: string;\n  accept: string;\n  disabled?: boolean;\n  InputProps?: Omit<InputProps, 'name' | 'type' | 'label'>;\n  InputLabelProps?: InputLabelProps;\n  FormControlProps?: FormControlProps;\n}\n\nexport const SimpleFileUpload = ({\n  field,\n  form: { isSubmitting, touched, errors, setFieldValue },\n  label,\n  accept,\n  disabled = false,\n  InputProps: inputProps,\n  InputLabelProps: inputLabelProps,\n  FormControlProps: formControlProps,\n}: SimpleFileUploadProps) => {\n  const error = getIn(touched, field.name) && getIn(errors, field.name);\n\n  return (\n    <FormControl {...formControlProps}>\n      {label && (\n        <InputLabel shrink error={!!error} {...inputLabelProps}>\n          {label}\n        </InputLabel>\n      )}\n      <Input\n        error={!!error}\n        inputProps={{\n          type: 'file',\n          accept,\n          disabled: disabled || isSubmitting,\n          name: field.name,\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          onChange: (event: React.ChangeEvent<any>) => {\n            if (inputProps?.onChange) {\n              inputProps.onChange(event);\n            } else {\n              const file = event.currentTarget.files[0];\n              setFieldValue(field.name, file);\n            }\n          },\n        }}\n        {...inputProps}\n      />\n      {error && <FormHelperText error>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAgBO,MAAM,mBAAmB,CAAC;AAAA,EAC/B;AAAA,EACA,MAAM,EAAE,cAAc,SAAS,QAAQ,cAAc;AAAA,EACrD;AAAA,EACA;AAAA,EACA,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,iBAAiB;AAAA,EACjB,kBAAkB;AACpB,MAA6B;AACrB,QAAA,QAAQ,MAAM,SAAS,MAAM,IAAI,KAAK,MAAM,QAAQ,MAAM,IAAI;AAGlE,SAAA,qBAAC,aAAa,EAAA,GAAG,kBACd,UAAA;AAAA,IACC,SAAA,oBAAC,YAAW,EAAA,QAAM,MAAC,OAAO,CAAC,CAAC,OAAQ,GAAG,iBACpC,UACH,MAAA,CAAA;AAAA,IAEF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,CAAC,CAAC;AAAA,QACT,YAAY;AAAA,UACV,MAAM;AAAA,UACN;AAAA,UACA,UAAU,YAAY;AAAA,UACtB,MAAM,MAAM;AAAA;AAAA,UAEZ,UAAU,CAAC,UAAkC;AAC3C,gBAAI,yCAAY,UAAU;AACxB,yBAAW,SAAS,KAAK;AAAA,YAAA,OACpB;AACL,oBAAM,OAAO,MAAM,cAAc,MAAM,CAAC;AAC1B,4BAAA,MAAM,MAAM,IAAI;AAAA,YAChC;AAAA,UACF;AAAA,QACF;AAAA,QACC,GAAG;AAAA,MAAA;AAAA,IACN;AAAA,IACC,SAAS,oBAAC,gBAAe,EAAA,OAAK,MAAE,UAAM,OAAA;AAAA,EACzC,EAAA,CAAA;AAEJ;"}